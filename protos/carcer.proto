syntax = "proto3";

package carcer_proto;

service Carcer {
  rpc setup(InitialRequest) returns (InitialResponse) {}
  rpc execute(CommandRequest) returns (CommandResponse) {}
}

message InitialRequest {}

message InitialResponse {
  map<string, CommandDescription> palette = 2;
}

message CommandDescription {
  map<string, InputType> fields = 2;
}

message CommandRequest {
  string command = 1;
  map<string, Field> payload = 2;
}

message CommandResponse {
  string message = 1;
}

message Field {
  string value = 1;
  InputType type = 2;
}

enum InputType {
  STRING = 0;
}